"use strict";var lockScroll=function(){document.body.classList.toggle("js-lock"),document.body.classList.contains("js-lock")||document.body.toggleAttribute("class")},overlay=document.querySelector(".overlay"),form=document.querySelector("#form");null!=overlay&&overlay.addEventListener("click",function(){for(var e=document.querySelectorAll(".form__field input"),t=document.querySelectorAll(".js-invalid-label"),r=0;r<e.length;r++)e[r].classList.remove("js-invalid");for(var l=0;l<t.length;l++)t[l].remove();modalToggleVisible()});var switchLabel=document.querySelectorAll(".switch__label");null!=switchLabel&&switchLabel.forEach(function(e){e.addEventListener("click",function(){e.querySelector("input").checked?e.classList.add("js-toggle"):e.classList.remove("js-toggle")})});var counterItem=document.querySelectorAll(".counter__item");null!=counterItem&&counterItem.forEach(function(e){var t=e.querySelector(".counter__input"),r=e.querySelector(".counter__plus"),e=e.querySelector(".counter__minus"),l=parseInt(t.getAttribute("max")),o=parseInt(t.getAttribute("min"));r.addEventListener("click",function(){t.value>=l?t.value=l:(t.value++,t.setAttribute("value",t.value))}),e.addEventListener("click",function(){t.value<=o?t.value=o:(t.value--,t.setAttribute("value",t.value))}),t.addEventListener("keyup",function(){t.value>=l?t.value=l:t.value<=o&&(t.value=o)})});var burger=document.querySelector(".burger"),header=document.querySelector(".header");burger.addEventListener("click",function(){header.classList.toggle("js-nav-open"),lockScroll()});var video=document.querySelector(".video__item"),videoPlayButton=document.querySelector(".video__play"),videoPreview=document.querySelector(".video__preview");null!=videoPlayButton&&videoPlayButton.addEventListener("click",function(){video.style.display="block",videoPlayButton.style.display="none"});var modalTrigger=document.querySelectorAll(".modal-trigger"),modalWindow=document.querySelector(".modal");null!=modalTrigger&&modalTrigger.forEach(function(e){e.addEventListener("click",function(){modalToggleVisible()})});var validationForm,modalToggleVisible=function(){modalWindow.classList.toggle("js-show"),overlay.classList.toggle("js-show"),lockScroll(),setTimeout(function(){modalWindow.classList.remove("js-submit")},300)};function closeOpenNavs(){for(var e=document.querySelectorAll(".dropdown__trigger"),t=0;t<e.length;t++){var r=e[t];r.parentElement.classList.contains("js-open")&&r.parentElement.classList.remove("js-open")}}document.querySelector("#form")&&((validationForm=new JustValidate("#form",{errorFieldCssClass:"js-invalid",errorLabelCssClass:"js-invalid-label",lockForm:!0,errorLabelStyle:{textDecoration:"underlined"}})).addField("#user_name",[{rule:"minLength",value:3,errorMessage:"Minimum 3 characters required"},{rule:"required",errorMessage:"Name is required"}]).addField("#user_email",[{rule:"required",errorMessage:"Email is required"},{rule:"email",errorMessage:"Email is invalid"}]).onSuccess(function(e){e.preventDefault(),modalWindow.classList.add("js-submit")}),document.querySelector("#user_company")&&validationForm.addField("#user_company",[{rule:"required",errorMessage:"Company is required"}])),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t}while(null!==(t=t.parentElement));return null}),document.addEventListener("click",function(e){e.target.closest(".dropdown__trigger")?e.target.closest(".dropdown__trigger")&&e.target.parentElement.closest(".js-open")?e.target.closest(".dropdown__trigger").parentElement.classList.remove("js-open"):e.target.closest(".dropdown__trigger")&&(closeOpenNavs(),e.target.closest(".dropdown__trigger").parentElement.classList.add("js-open")):closeOpenNavs()},!1);var benefitsSlider,planSlider=new Swiper(".plan__slider",{loop:!1,slidesPerView:1,spaceBetween:30,speed:300,breakpoints:{768:{slidesPerView:2},1200:{slidesPerView:3}},pagination:{el:".plan__pagination"},navigation:{nextEl:".plan__button-next",prevEl:".plan__button-prev"}});window.matchMedia("(min-width: 992px)").matches||(benefitsSlider=new Swiper(".benefits__slider",{loop:!1,slidesPerView:1,spaceBetween:30,speed:300,breakpoints:{768:{slidesPerView:2}},pagination:{el:".benefits__pagination"},navigation:{nextEl:".benefits__button-next",prevEl:".benefits__button-prev"}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibG9ja1Njcm9sbCIsImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnRhaW5zIiwidG9nZ2xlQXR0cmlidXRlIiwib3ZlcmxheSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm1GaWVsZElucHV0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1GaWVsZExhYmVsIiwiaSIsImxlbmd0aCIsInJlbW92ZSIsIm1vZGFsVG9nZ2xlVmlzaWJsZSIsInN3aXRjaExhYmVsIiwiZm9yRWFjaCIsImUiLCJjaGVja2VkIiwiYWRkIiwiY291bnRlckl0ZW0iLCJjb3VudGVySW5wdXQiLCJjb3VudGVyUGx1cyIsImNvdW50ZXJNaW51cyIsImNvdW50ZXJNYXgiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImNvdW50ZXJNaW4iLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsImJ1cmdlciIsImhlYWRlciIsInZpZGVvIiwidmlkZW9QbGF5QnV0dG9uIiwidmlkZW9QcmV2aWV3Iiwic3R5bGUiLCJkaXNwbGF5IiwibW9kYWxUcmlnZ2VyIiwibW9kYWxXaW5kb3ciLCJ2YWxpZGF0aW9uRm9ybSIsInNldFRpbWVvdXQiLCJjbG9zZU9wZW5OYXZzIiwib3BlbkRyb3BzIiwib3BlbkRyb3Bkb3duIiwicGFyZW50RWxlbWVudCIsIkp1c3RWYWxpZGF0ZSIsImVycm9yRmllbGRDc3NDbGFzcyIsImVycm9yTGFiZWxDc3NDbGFzcyIsImxvY2tGb3JtIiwiZXJyb3JMYWJlbFN0eWxlIiwidGV4dERlY29yYXRpb24iLCJhZGRGaWVsZCIsInJ1bGUiLCJlcnJvck1lc3NhZ2UiLCJvblN1Y2Nlc3MiLCJwcmV2ZW50RGVmYXVsdCIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJjbG9zZXN0IiwibWF0Y2hlcyIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwicyIsImFuY2VzdG9yIiwidGhpcyIsImRvY3VtZW50RWxlbWVudCIsImV2ZW50IiwidGFyZ2V0IiwiYmVuZWZpdHNTbGlkZXIiLCJwbGFuU2xpZGVyIiwiU3dpcGVyIiwibG9vcCIsInNsaWRlc1BlclZpZXciLCJzcGFjZUJldHdlZW4iLCJzcGVlZCIsImJyZWFrcG9pbnRzIiwiNzY4IiwiMTIwMCIsInBhZ2luYXRpb24iLCJlbCIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFNQSxXQUFhLFdBQ2pCQyxTQUFTQyxLQUFLQyxVQUFVQyxPQUFPLFdBQzFCSCxTQUFTQyxLQUFLQyxVQUFVRSxTQUFTLFlBQ3BDSixTQUFTQyxLQUFLSSxnQkFBZ0IsVUFPOUJDLFFBQVVOLFNBQVNPLGNBQWMsWUFDakNDLEtBQU9SLFNBQVNPLGNBQWMsU0FFbENELE1BQUFBLFNBQUFBLFFBQVNHLGlCQUFpQixRQUFTLFdBSWpDLElBSEEsSUFBSUMsRUFBaUJWLFNBQVNXLGlCQUFpQixzQkFDM0NDLEVBQWlCWixTQUFTVyxpQkFBaUIscUJBRXRDRSxFQUFJLEVBQUdBLEVBQUlILEVBQWVJLE9BQVFELElBQ3pDSCxFQUFlRyxHQUFHWCxVQUFVYSxPQUFPLGNBRXJDLElBQUssSUFBSUYsRUFBSSxFQUFHQSxFQUFJRCxFQUFlRSxPQUFRRCxJQUN6Q0QsRUFBZUMsR0FBR0UsU0FFcEJDLHVCQUlGLElBQUlDLFlBQWNqQixTQUFTVyxpQkFBaUIsa0JBRTVDTSxNQUFBQSxhQUFBQSxZQUFhQyxRQUFRLFNBQUNDLEdBQ3BCQSxFQUFFVixpQkFBaUIsUUFBUyxXQUN0QlUsRUFBRVosY0FBYyxTQUFTYSxRQUMzQkQsRUFBRWpCLFVBQVVtQixJQUFJLGFBRWhCRixFQUFFakIsVUFBVWEsT0FBTyxpQkFNekIsSUFBSU8sWUFBY3RCLFNBQVNXLGlCQUFpQixrQkFFNUNXLE1BQUFBLGFBQUFBLFlBQWFKLFFBQVEsU0FBQ0MsR0FDcEIsSUFBSUksRUFBZUosRUFB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LEdBQUksT0FBT0MsUUFFWCxRQURyQkEsRUFBV0EsRUFBU25CLGdCQUVyQixPQUFPLE9BY1Q5QyxTQUFTUyxpQkFBaUIsUUFBUyxTQUFVMkQsR0FDdkNBLEVBQU1DLE9BQU9ULFFBQVEsc0JBR2pCUSxFQUFNQyxPQUFPVCxRQUFRLHVCQUF5QlEsRUFBTUMsT0FBT3ZCLGNBQWNjLFFBQVEsWUFDekZRLEVBQU1DLE9BQU9ULFFBQVEsc0JBQXNCZCxjQUFjNUMsVUFBVWEsT0FBTyxXQUVsRXFELEVBQU1DLE9BQU9ULFFBQVEsd0JBQzdCakIsZ0JBQ0F5QixFQUFNQyxPQUFPVCxRQUFRLHNCQUFzQmQsY0FBYzVDLFVBQVVtQixJQUFJLFlBUHZFc0Isa0JBVUMsR0FHSCxJQXlCUTJCLGVBekJGQyxXQUFhLElBQUlDLE9BQU8sZ0JBQWlCLENBQzdDQyxNQUFNLEVBQ05DLGNBQWUsRUFDZkMsYUFBYyxHQUNkQyxNQUFPLElBQ1BDLFlBQWEsQ0FDWEMsSUFBSyxDQUNISixjQUFlLEdBRWpCSyxLQUFNLENBQ0pMLGNBQWUsSUFJbkJNLFdBQVksQ0FDVkMsR0FBSSxxQkFFTkMsV0FBWSxDQUNWQyxPQUFRLHFCQUNSQyxPQUFRLHdCQUlQQyxPQUFPQyxXQUFXLHNCQUFzQnpCLFVBRXJDUyxlQUFpQixJQUFJRSxPQUFPLG9CQUFxQixDQUNyREMsTUFBTSxFQUNOQyxjQUFlLEVBQ2ZDLGFBQWMsR0FDZEMsTUFBTyxJQUNQQyxZQUFhLENBQ1hDLElBQUssQ0FDSEosY0FBZSxJQUluQk0sV0FBWSxDQUNWQyxHQUFJLHlCQUVOQyxXQUFZLENBQ1ZDLE9BQVEseUJBQ1JDLE9BQVEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMb2NrIHNjcm9sbCBvbiBib2R5XHJcbmNvbnN0IGxvY2tTY3JvbGwgPSAoKSA9PiB7XHJcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwianMtbG9ja1wiKTtcclxuICBpZiAoIWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtbG9ja1wiKSkge1xyXG4gICAgZG9jdW1lbnQuYm9keS50b2dnbGVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbnVsbFxyXG4gIH1cclxufTtcclxuXHJcbi8vIENsaWNrIG9uIG92ZXJsYXlcclxubGV0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm92ZXJsYXlcIik7XHJcbmxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtXCIpO1xyXG5cclxub3ZlcmxheT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBsZXQgZm9ybUZpZWxkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2ZpZWxkIGlucHV0XCIpO1xyXG4gIGxldCBmb3JtRmllbGRMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuanMtaW52YWxpZC1sYWJlbFwiKTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtRmllbGRJbnB1dC5sZW5ndGg7IGkrKyl7XHJcbiAgICBmb3JtRmllbGRJbnB1dFtpXS5jbGFzc0xpc3QucmVtb3ZlKCdqcy1pbnZhbGlkJyk7XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybUZpZWxkTGFiZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgZm9ybUZpZWxkTGFiZWxbaV0ucmVtb3ZlKCk7XHJcbiAgfVxyXG4gIG1vZGFsVG9nZ2xlVmlzaWJsZSgpXHJcbn0pO1xyXG5cclxuLy8gQ3VzdG9tIHN3aXRjaCBidXR0b25cclxubGV0IHN3aXRjaExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zd2l0Y2hfX2xhYmVsXCIpXHJcblxyXG5zd2l0Y2hMYWJlbD8uZm9yRWFjaCgoZSkgPT4ge1xyXG4gIGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChlLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5jaGVja2VkKSB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LmFkZChcImpzLXRvZ2dsZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcImpzLXRvZ2dsZVwiKTtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcbi8vIEN1c3RvbSBjb3VudGVyXHJcbmxldCBjb3VudGVySXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY291bnRlcl9faXRlbVwiKTtcclxuXHJcbmNvdW50ZXJJdGVtPy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgbGV0IGNvdW50ZXJJbnB1dCA9IGUucXVlcnlTZWxlY3RvcihcIi5jb3VudGVyX19pbnB1dFwiKTtcclxuICBsZXQgY291bnRlclBsdXMgPSBlLnF1ZXJ5U2VsZWN0b3IoXCIuY291bnRlcl9fcGx1c1wiKTtcclxuICBsZXQgY291bnRlck1pbnVzID0gZS5xdWVyeVNlbGVjdG9yKFwiLmNvdW50ZXJfX21pbnVzXCIpO1xyXG5cclxuICBsZXQgY291bnRlck1heCA9IHBhcnNlSW50KGNvdW50ZXJJbnB1dC5nZXRBdHRyaWJ1dGUoXCJtYXhcIikpO1xyXG4gIGxldCBjb3VudGVyTWluID0gcGFyc2VJbnQoY291bnRlcklucHV0LmdldEF0dHJpYnV0ZShcIm1pblwiKSk7XHJcblxyXG4gIGNvdW50ZXJQbHVzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBpZiAoY291bnRlcklucHV0LnZhbHVlID49IGNvdW50ZXJNYXggKSB7XHJcbiAgICAgIGNvdW50ZXJJbnB1dC52YWx1ZSA9IGNvdW50ZXJNYXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb3VudGVySW5wdXQudmFsdWUrK1xyXG4gICAgICBjb3VudGVySW5wdXQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgY291bnRlcklucHV0LnZhbHVlKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICBjb3VudGVyTWludXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChjb3VudGVySW5wdXQudmFsdWUgPD0gY291bnRlck1pbiApIHtcclxuICAgICAgY291bnRlcklucHV0LnZhbHVlID0gY291bnRlck1pbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvdW50ZXJJbnB1dC52YWx1ZS0tXHJcbiAgICAgIGNvdW50ZXJJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBjb3VudGVySW5wdXQudmFsdWUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb3VudGVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IHtcclxuICAgIGlmIChjb3VudGVySW5wdXQudmFsdWUgPj0gY291bnRlck1heCkge1xyXG4gICAgICBjb3VudGVySW5wdXQudmFsdWUgPSBjb3VudGVyTWF4O1xyXG4gICAgfSBlbHNlIGlmIChjb3VudGVySW5wdXQudmFsdWUgPD0gY291bnRlck1pbikge1xyXG4gICAgICBjb3VudGVySW5wdXQudmFsdWUgPSBjb3VudGVyTWluO1xyXG4gICAgfSBlbHNlICB7XHJcbiAgICAgIG51bGxcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi8vIE9wZW4gbWVudSBvbiBjbGljayB0byBCdXJnZXJcclxubGV0IGJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpO1xyXG5sZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XHJcblxyXG5idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZShcImpzLW5hdi1vcGVuXCIpO1xyXG4gIGxvY2tTY3JvbGwoKVxyXG59KVxyXG5cclxuLy8gVmlkZW9cclxubGV0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52aWRlb19faXRlbVwiKTtcclxubGV0IHZpZGVvUGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmlkZW9fX3BsYXlcIik7XHJcbmxldCB2aWRlb1ByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZpZGVvX19wcmV2aWV3XCIpO1xyXG5cclxudmlkZW9QbGF5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHZpZGVvLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgdmlkZW9QbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxufSk7XHJcblxyXG4vLyBNb2RhbFxyXG5sZXQgbW9kYWxUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbC10cmlnZ2VyXCIpO1xyXG5sZXQgbW9kYWxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xyXG5cclxubW9kYWxUcmlnZ2VyPy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9kYWxUb2dnbGVWaXNpYmxlKCk7XHJcbiAgfSk7XHJcbn0pXHJcblxyXG5jb25zdCBtb2RhbFRvZ2dsZVZpc2libGUgPSAoKSA9PiB7XHJcbiAgbW9kYWxXaW5kb3cuY2xhc3NMaXN0LnRvZ2dsZShcImpzLXNob3dcIik7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKFwianMtc2hvd1wiKTtcclxuICBsb2NrU2Nyb2xsKCk7XHJcbiAgc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgbW9kYWxXaW5kb3cuY2xhc3NMaXN0LnJlbW92ZShcImpzLXN1Ym1pdFwiKTtcclxuICB9LCAzMDApXHJcbn1cclxuXHJcbi8vIFZhbGlkYXRlIGZvcm1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybVwiKSkge1xyXG4gIGNvbnN0IHZhbGlkYXRpb25Gb3JtID0gbmV3IEp1c3RWYWxpZGF0ZShcIiNmb3JtXCIsIHtcclxuICAgIGVycm9yRmllbGRDc3NDbGFzczogXCJqcy1pbnZhbGlkXCIsXHJcbiAgICBlcnJvckxhYmVsQ3NzQ2xhc3M6IFwianMtaW52YWxpZC1sYWJlbFwiLFxyXG4gICAgbG9ja0Zvcm06IHRydWUsXHJcbiAgICBlcnJvckxhYmVsU3R5bGU6IHtcclxuICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lZFwiLFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgdmFsaWRhdGlvbkZvcm1cclxuICAgIC5hZGRGaWVsZChcIiN1c2VyX25hbWVcIiwgW1xyXG4gICAgICB7XHJcbiAgICAgICAgcnVsZTogXCJtaW5MZW5ndGhcIixcclxuICAgICAgICB2YWx1ZTogMyxcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiTWluaW11bSAzIGNoYXJhY3RlcnMgcmVxdWlyZWRcIixcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwicmVxdWlyZWRcIixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiTmFtZSBpcyByZXF1aXJlZFwiLFxyXG4gICAgICB9LFxyXG4gICAgXSlcclxuICAgIC5hZGRGaWVsZChcIiN1c2VyX2VtYWlsXCIsIFtcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwicmVxdWlyZWRcIixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiRW1haWwgaXMgcmVxdWlyZWRcIixcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwiZW1haWxcIixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiRW1haWwgaXMgaW52YWxpZFwiLFxyXG4gICAgICB9LFxyXG4gICAgXSlcclxuICAgIC5vblN1Y2Nlc3MoKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBtb2RhbFdpbmRvdy5jbGFzc0xpc3QuYWRkKFwianMtc3VibWl0XCIpO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdXNlcl9jb21wYW55XCIpKSB7XHJcbiAgICB2YWxpZGF0aW9uRm9ybVxyXG4gICAgICAuYWRkRmllbGQoXCIjdXNlcl9jb21wYW55XCIsIFtcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwicmVxdWlyZWRcIiwgXHJcbiAgICAgICAgZXJyb3JNZXNzYWdlOiBcIkNvbXBhbnkgaXMgcmVxdWlyZWRcIixcclxuICAgICAgfSxcclxuICAgIF0pXHJcbiAgfVxyXG59XHJcblxyXG4vLyBEcm9wZG93blwic1xyXG5pZiAoIUVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QpIHtcclxuXHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcclxuXHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XHJcblx0fVxyXG5cdEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbiAocykge1xyXG5cdFx0dmFyIGVsID0gdGhpcztcclxuXHRcdHZhciBhbmNlc3RvciA9IHRoaXM7XHJcblx0XHRpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhlbCkpIHJldHVybiBudWxsO1xyXG5cdFx0ZG8ge1xyXG5cdFx0XHRpZiAoYW5jZXN0b3IubWF0Y2hlcyhzKSkgcmV0dXJuIGFuY2VzdG9yO1xyXG5cdFx0XHRhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudEVsZW1lbnQ7XHJcblx0XHR9IHdoaWxlIChhbmNlc3RvciAhPT0gbnVsbCk7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU9wZW5OYXZzKCkge1xyXG4gIHZhciBvcGVuRHJvcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyb3Bkb3duX190cmlnZ2VyXCIpO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgb3BlbkRyb3BzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgb3BlbkRyb3Bkb3duID0gb3BlbkRyb3BzW2ldO1xyXG5cdFx0aWYgKG9wZW5Ecm9wZG93bi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImpzLW9wZW5cIikpIHtcclxuXHRcdCAgb3BlbkRyb3Bkb3duLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImpzLW9wZW5cIik7XHJcblx0XHR9XHJcblx0fSAgXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmRyb3Bkb3duX190cmlnZ2VyXCIpKXtcclxuXHRcdGNsb3NlT3Blbk5hdnMoKTtcclxuXHR9IFxyXG5cdGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmRyb3Bkb3duX190cmlnZ2VyXCIpICYmIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmNsb3Nlc3QoXCIuanMtb3BlblwiKSl7XHJcblx0XHRldmVudC50YXJnZXQuY2xvc2VzdChcIi5kcm9wZG93bl9fdHJpZ2dlclwiKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1vcGVuXCIpO1xyXG5cdH1cclxuXHRlbHNlIGlmIChldmVudC50YXJnZXQuY2xvc2VzdChcIi5kcm9wZG93bl9fdHJpZ2dlclwiKSl7XHJcblx0XHRjbG9zZU9wZW5OYXZzKCk7XHJcblx0XHRldmVudC50YXJnZXQuY2xvc2VzdChcIi5kcm9wZG93bl9fdHJpZ2dlclwiKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJqcy1vcGVuXCIpO1xyXG5cdH1cclxuXHRcclxufSwgZmFsc2UpO1xyXG5cclxuLy8gUGxhbiBzbGlkZXJcclxuY29uc3QgcGxhblNsaWRlciA9IG5ldyBTd2lwZXIoXCIucGxhbl9fc2xpZGVyXCIsIHtcclxuICBsb29wOiBmYWxzZSxcclxuICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgc3BlZWQ6IDMwMCxcclxuICBicmVha3BvaW50czoge1xyXG4gICAgNzY4OiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICB9LFxyXG4gICAgMTIwMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBwYWdpbmF0aW9uOiB7XHJcbiAgICBlbDogXCIucGxhbl9fcGFnaW5hdGlvblwiLFxyXG4gIH0sXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5wbGFuX19idXR0b24tbmV4dFwiLFxyXG4gICAgcHJldkVsOiBcIi5wbGFuX19idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuaWYgKCF3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDk5MnB4KVwiKS5tYXRjaGVzKSB7XHJcbiAgLy8gQmVuZWZpdHMgc2xpZGVyXHJcbiAgY29uc3QgYmVuZWZpdHNTbGlkZXIgPSBuZXcgU3dpcGVyKFwiLmJlbmVmaXRzX19zbGlkZXJcIiwge1xyXG4gICAgbG9vcDogZmFsc2UsXHJcbiAgICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgIHNwZWVkOiAzMDAsXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICA3Njg6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuXHJcbiAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgIGVsOiBcIi5iZW5lZml0c19fcGFnaW5hdGlvblwiLFxyXG4gICAgfSxcclxuICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgbmV4dEVsOiBcIi5iZW5lZml0c19fYnV0dG9uLW5leHRcIixcclxuICAgICAgcHJldkVsOiBcIi5iZW5lZml0c19fYnV0dG9uLXByZXZcIixcclxuICAgIH0sXHJcbiAgfSk7XHJcbn0gZWxzZSB7XHJcbn0iXX0=