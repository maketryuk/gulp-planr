"use strict";var lockScroll=function(){document.body.classList.toggle("js-lock"),document.body.classList.contains("js-lock")||document.body.toggleAttribute("class")},overlay=document.querySelector(".overlay"),form=document.querySelector("#form");null!=overlay&&overlay.addEventListener("click",function(){for(var e=document.querySelectorAll(".form__field input"),t=document.querySelectorAll(".js-invalid-label"),o=0;o<e.length;o++)e[o].classList.remove("js-invalid");for(var r=0;r<t.length;r++)t[r].remove();modalToggleVisible()});var switchLabel=document.querySelectorAll(".switch__label");null!=switchLabel&&switchLabel.forEach(function(e){e.addEventListener("click",function(){e.querySelector("input").checked?e.classList.add("js-toggle"):e.classList.remove("js-toggle")})});var counterItem=document.querySelectorAll(".counter__item");null!=counterItem&&counterItem.forEach(function(e){var t=e.querySelector(".counter__input"),o=e.querySelector(".counter__plus"),e=e.querySelector(".counter__minus"),r=parseInt(t.getAttribute("max")),l=parseInt(t.getAttribute("min"));o.addEventListener("click",function(){t.value>=r?t.value=r:(t.value++,t.setAttribute("value",t.value))}),e.addEventListener("click",function(){t.value<=l?t.value=l:(t.value--,t.setAttribute("value",t.value))}),t.addEventListener("keyup",function(){t.value>=r?t.value=r:t.value<=l&&(t.value=l)})});var burger=document.querySelector(".burger"),header=document.querySelector(".header");burger.addEventListener("click",function(){header.classList.toggle("js-nav-open"),lockScroll()});var video=document.querySelector(".video__item"),videoPlayButton=document.querySelector(".video__play"),videoPreview=document.querySelector(".video__preview");null!=videoPlayButton&&videoPlayButton.addEventListener("click",function(){video.style.display="block",videoPlayButton.style.display="none"});var modalTrigger=document.querySelectorAll(".modal-trigger"),modalWindow=document.querySelector(".modal");null!=modalTrigger&&modalTrigger.forEach(function(e){e.addEventListener("click",function(){modalToggleVisible()})});var validationForm,modalToggleVisible=function(){modalWindow.classList.toggle("js-show"),overlay.classList.toggle("js-show"),lockScroll(),setTimeout(function(){modalWindow.classList.remove("js-submit")},300)};function closeOpenNavs(){for(var e=document.querySelectorAll(".dropdown__trigger"),t=0;t<e.length;t++){var o=e[t];o.parentElement.classList.contains("js-open")&&o.parentElement.classList.remove("js-open")}}document.querySelector("#form")&&((validationForm=new JustValidate("#form",{errorFieldCssClass:"js-invalid",errorLabelCssClass:"js-invalid-label",lockForm:!0,errorLabelStyle:{textDecoration:"underlined"}})).addField("#user_name",[{rule:"minLength",value:3,errorMessage:"Minimum 3 characters required"},{rule:"required",errorMessage:"Name is required"}]).addField("#user_email",[{rule:"required",errorMessage:"Email is required"},{rule:"email",errorMessage:"Email is invalid"}]).onSuccess(function(e){e.preventDefault(),modalWindow?modalWindow.classList.add("js-submit"):"en"===document.documentElement.lang?window.location.href="en-thanks.html":"de"===document.documentElement.lang&&(window.location.href="thanks.html")}),document.querySelector("#user_company")&&validationForm.addField("#user_company",[{rule:"required",errorMessage:"Company is required"}])),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t}while(null!==(t=t.parentElement));return null}),document.addEventListener("click",function(e){e.target.closest(".dropdown__trigger")?e.target.closest(".dropdown__trigger")&&e.target.parentElement.closest(".js-open")?e.target.closest(".dropdown__trigger").parentElement.classList.remove("js-open"):e.target.closest(".dropdown__trigger")&&(closeOpenNavs(),e.target.closest(".dropdown__trigger").parentElement.classList.add("js-open")):closeOpenNavs()},!1);var benefitsSlider,planSlider=new Swiper(".plan__slider",{loop:!1,slidesPerView:1,spaceBetween:30,speed:300,breakpoints:{768:{slidesPerView:2},1200:{slidesPerView:3}},pagination:{el:".plan__pagination"},navigation:{nextEl:".plan__button-next",prevEl:".plan__button-prev"}});window.matchMedia("(min-width: 992px)").matches?document.addEventListener("DOMContentLoaded",function(){OverlayScrollbars(document.querySelectorAll("body"),{})}):benefitsSlider=new Swiper(".benefits__slider",{loop:!1,slidesPerView:1,spaceBetween:30,speed:300,breakpoints:{768:{slidesPerView:2}},pagination:{el:".benefits__pagination"},navigation:{nextEl:".benefits__button-next",prevEl:".benefits__button-prev"}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibG9ja1Njcm9sbCIsImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnRhaW5zIiwidG9nZ2xlQXR0cmlidXRlIiwib3ZlcmxheSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm1GaWVsZElucHV0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvcm1GaWVsZExhYmVsIiwiaSIsImxlbmd0aCIsInJlbW92ZSIsIm1vZGFsVG9nZ2xlVmlzaWJsZSIsInN3aXRjaExhYmVsIiwiZm9yRWFjaCIsImUiLCJjaGVja2VkIiwiYWRkIiwiY291bnRlckl0ZW0iLCJjb3VudGVySW5wdXQiLCJjb3VudGVyUGx1cyIsImNvdW50ZXJNaW51cyIsImNvdW50ZXJNYXgiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsImNvdW50ZXJNaW4iLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsImJ1cmdlciIsImhlYWRlciIsInZpZGVvIiwidmlkZW9QbGF5QnV0dG9uIiwidmlkZW9QcmV2aWV3Iiwic3R5bGUiLCJkaXNwbGF5IiwibW9kYWxUcmlnZ2VyIiwibW9kYWxXaW5kb3ciLCJ2YWxpZGF0aW9uRm9ybSIsInNldFRpbWVvdXQiLCJjbG9zZU9wZW5OYXZzIiwib3BlbkRyb3BzIiwib3BlbkRyb3Bkb3duIiwicGFyZW50RWxlbWVudCIsIkp1c3RWYWxpZGF0ZSIsImVycm9yRmllbGRDc3NDbGFzcyIsImVycm9yTGFiZWxDc3NDbGFzcyIsImxvY2tGb3JtIiwiZXJyb3JMYWJlbFN0eWxlIiwidGV4dERlY29yYXRpb24iLCJhZGRGaWVsZCIsInJ1bGUiLCJlcnJvck1lc3NhZ2UiLCJvblN1Y2Nlc3MiLCJwcmV2ZW50RGVmYXVsdCIsImRvY3VtZW50RWxlbWVudCIsImxhbmciLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJFbGVtZW50IiwicHJvdG90eXBlIiwiY2xvc2VzdCIsIm1hdGNoZXMiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsInMiLCJhbmNlc3RvciIsInRoaXMiLCJldmVudCIsInRhcmdldCIsImJlbmVmaXRzU2xpZGVyIiwicGxhblNsaWRlciIsIlN3aXBlciIsImxvb3AiLCJzbGlkZXNQZXJWaWV3Iiwic3BhY2VCZXR3ZWVuIiwic3BlZWQiLCJicmVha3BvaW50cyIsIjc2OCIsIjEyMDAiLCJwYWdpbmF0aW9uIiwiZWwiLCJuYXZpZ2F0aW9uIiwibmV4dEVsIiwicHJldkVsIiwibWF0Y2hNZWRpYSIsIk92ZXJsYXlTY3JvbGxiYXJzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFNQSxXQUFhLFdBQ2pCQyxTQUFTQyxLQUFLQyxVQUFVQyxPQUFPLFdBQzFCSCxTQUFTQyxLQUFLQyxVQUFVRSxTQUFTLFlBQ3BDSixTQUFTQyxLQUFLSSxnQkFBZ0IsVUFPOUJDLFFBQVVOLFNBQVNPLGNBQWMsWUFDakNDLEtBQU9SLFNBQVNPLGNBQWMsU0FFbENELE1BQUFBLFNBQUFBLFFBQVNHLGlCQUFpQixRQUFTLFdBSWpDLElBSEEsSUFBSUMsRUFBaUJWLFNBQVNXLGlCQUFpQixzQkFDM0NDLEVBQWlCWixTQUFTVyxpQkFBaUIscUJBRXRDRSxFQUFJLEVBQUdBLEVBQUlILEVBQWVJLE9BQVFELElBQ3pDSCxFQUFlRyxHQUFHWCxVQUFVYSxPQUFPLGNBRXJDLElBQUssSUFBSUYsRUFBSSxFQUFHQSxFQUFJRCxFQUFlRSxPQUFRRCxJQUN6Q0QsRUFBZUMsR0FBR0UsU0FFcEJDLHVCQUlGLElBQUlDLFlBQWNqQixTQUFTVyxpQkFBaUIsa0JBRTVDTSxNQUFBQSxhQUFBQSxZQUFhQyxRQUFRLFNBQUNDLEdBQ3BCQSxFQUFFVixpQkFBaUIsUUFBUyxXQUN0QlUsRUFBRVosY0FBYyxTQUFTYSxRQUMzQkQsRUFBRWpCLFVBQVVtQixJQUFJLGFBRWhCRixFQUFFakIsVUFBVWEsT0FBTyxpQkFNekIsSUFBSU8sWUFBY3RCLFNBQVNXLGlCQUFpQixrQkFFNUNXLE1BQUFB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eUJBRU5DLFdBQVksQ0FDVkMsT0FBUSx5QkFDUkMsT0FBUSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExvY2sgc2Nyb2xsIG9uIGJvZHlcclxuY29uc3QgbG9ja1Njcm9sbCA9ICgpID0+IHtcclxuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJqcy1sb2NrXCIpO1xyXG4gIGlmICghZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoXCJqcy1sb2NrXCIpKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LnRvZ2dsZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBudWxsXHJcbiAgfVxyXG59O1xyXG5cclxuLy8gQ2xpY2sgb24gb3ZlcmxheVxyXG5sZXQgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheVwiKTtcclxubGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1cIik7XHJcblxyXG5vdmVybGF5Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGxldCBmb3JtRmllbGRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fZmllbGQgaW5wdXRcIik7XHJcbiAgbGV0IGZvcm1GaWVsZExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5qcy1pbnZhbGlkLWxhYmVsXCIpO1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGZvcm1GaWVsZElucHV0Lmxlbmd0aDsgaSsrKXtcclxuICAgIGZvcm1GaWVsZElucHV0W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWludmFsaWQnKTtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmb3JtRmllbGRMYWJlbC5sZW5ndGg7IGkrKyl7XHJcbiAgICBmb3JtRmllbGRMYWJlbFtpXS5yZW1vdmUoKTtcclxuICB9XHJcbiAgbW9kYWxUb2dnbGVWaXNpYmxlKClcclxufSk7XHJcblxyXG4vLyBDdXN0b20gc3dpdGNoIGJ1dHRvblxyXG5sZXQgc3dpdGNoTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXRjaF9fbGFiZWxcIik7XHJcblxyXG5zd2l0Y2hMYWJlbD8uZm9yRWFjaCgoZSkgPT4ge1xyXG4gIGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChlLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS5jaGVja2VkKSB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LmFkZChcImpzLXRvZ2dsZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZShcImpzLXRvZ2dsZVwiKTtcclxuICAgIH1cclxuICB9KVxyXG59KTtcclxuXHJcbi8vIEN1c3RvbSBjb3VudGVyXHJcbmxldCBjb3VudGVySXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY291bnRlcl9faXRlbVwiKTtcclxuXHJcbmNvdW50ZXJJdGVtPy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgbGV0IGNvdW50ZXJJbnB1dCA9IGUucXVlcnlTZWxlY3RvcihcIi5jb3VudGVyX19pbnB1dFwiKTtcclxuICBsZXQgY291bnRlclBsdXMgPSBlLnF1ZXJ5U2VsZWN0b3IoXCIuY291bnRlcl9fcGx1c1wiKTtcclxuICBsZXQgY291bnRlck1pbnVzID0gZS5xdWVyeVNlbGVjdG9yKFwiLmNvdW50ZXJfX21pbnVzXCIpO1xyXG5cclxuICBsZXQgY291bnRlck1heCA9IHBhcnNlSW50KGNvdW50ZXJJbnB1dC5nZXRBdHRyaWJ1dGUoXCJtYXhcIikpO1xyXG4gIGxldCBjb3VudGVyTWluID0gcGFyc2VJbnQoY291bnRlcklucHV0LmdldEF0dHJpYnV0ZShcIm1pblwiKSk7XHJcblxyXG4gIGNvdW50ZXJQbHVzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBpZiAoY291bnRlcklucHV0LnZhbHVlID49IGNvdW50ZXJNYXggKSB7XHJcbiAgICAgIGNvdW50ZXJJbnB1dC52YWx1ZSA9IGNvdW50ZXJNYXg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb3VudGVySW5wdXQudmFsdWUrK1xyXG4gICAgICBjb3VudGVySW5wdXQuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgY291bnRlcklucHV0LnZhbHVlKTtcclxuICAgIH1cclxuICB9KTtcclxuICBcclxuICBjb3VudGVyTWludXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChjb3VudGVySW5wdXQudmFsdWUgPD0gY291bnRlck1pbiApIHtcclxuICAgICAgY291bnRlcklucHV0LnZhbHVlID0gY291bnRlck1pbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvdW50ZXJJbnB1dC52YWx1ZS0tXHJcbiAgICAgIGNvdW50ZXJJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBjb3VudGVySW5wdXQudmFsdWUpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjb3VudGVySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IHtcclxuICAgIGlmIChjb3VudGVySW5wdXQudmFsdWUgPj0gY291bnRlck1heCkge1xyXG4gICAgICBjb3VudGVySW5wdXQudmFsdWUgPSBjb3VudGVyTWF4O1xyXG4gICAgfSBlbHNlIGlmIChjb3VudGVySW5wdXQudmFsdWUgPD0gY291bnRlck1pbikge1xyXG4gICAgICBjb3VudGVySW5wdXQudmFsdWUgPSBjb3VudGVyTWluO1xyXG4gICAgfSBlbHNlICB7XHJcbiAgICAgIG51bGxcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG4vLyBPcGVuIG1lbnUgb24gY2xpY2sgdG8gQnVyZ2VyXHJcbmxldCBidXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1cmdlclwiKTtcclxubGV0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xyXG5cclxuYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoXCJqcy1uYXYtb3BlblwiKTtcclxuICBsb2NrU2Nyb2xsKCk7XHJcbn0pO1xyXG5cclxuLy8gVmlkZW9cclxubGV0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52aWRlb19faXRlbVwiKTtcclxubGV0IHZpZGVvUGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmlkZW9fX3BsYXlcIik7XHJcbmxldCB2aWRlb1ByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZpZGVvX19wcmV2aWV3XCIpO1xyXG5cclxudmlkZW9QbGF5QnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHZpZGVvLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgdmlkZW9QbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxufSk7XHJcblxyXG4vLyBNb2RhbFxyXG5sZXQgbW9kYWxUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbC10cmlnZ2VyXCIpO1xyXG5sZXQgbW9kYWxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xyXG5cclxubW9kYWxUcmlnZ2VyPy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9kYWxUb2dnbGVWaXNpYmxlKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgbW9kYWxUb2dnbGVWaXNpYmxlID0gKCkgPT4ge1xyXG4gIG1vZGFsV2luZG93LmNsYXNzTGlzdC50b2dnbGUoXCJqcy1zaG93XCIpO1xyXG4gIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZShcImpzLXNob3dcIik7XHJcbiAgbG9ja1Njcm9sbCgpO1xyXG4gIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgIG1vZGFsV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1zdWJtaXRcIik7XHJcbiAgfSwgMzAwKTtcclxufTtcclxuXHJcbi8vIFZhbGlkYXRlIGZvcm1cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybVwiKSkge1xyXG4gIGNvbnN0IHZhbGlkYXRpb25Gb3JtID0gbmV3IEp1c3RWYWxpZGF0ZShcIiNmb3JtXCIsIHtcclxuICAgIGVycm9yRmllbGRDc3NDbGFzczogXCJqcy1pbnZhbGlkXCIsXHJcbiAgICBlcnJvckxhYmVsQ3NzQ2xhc3M6IFwianMtaW52YWxpZC1sYWJlbFwiLFxyXG4gICAgbG9ja0Zvcm06IHRydWUsXHJcbiAgICBlcnJvckxhYmVsU3R5bGU6IHtcclxuICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lZFwiLFxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgdmFsaWRhdGlvbkZvcm1cclxuICAgIC5hZGRGaWVsZChcIiN1c2VyX25hbWVcIiwgW1xyXG4gICAgICB7XHJcbiAgICAgICAgcnVsZTogXCJtaW5MZW5ndGhcIixcclxuICAgICAgICB2YWx1ZTogMyxcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiTWluaW11bSAzIGNoYXJhY3RlcnMgcmVxdWlyZWRcIixcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwicmVxdWlyZWRcIixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiTmFtZSBpcyByZXF1aXJlZFwiLFxyXG4gICAgICB9LFxyXG4gICAgXSlcclxuICAgIC5hZGRGaWVsZChcIiN1c2VyX2VtYWlsXCIsIFtcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwicmVxdWlyZWRcIixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiRW1haWwgaXMgcmVxdWlyZWRcIixcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJ1bGU6IFwiZW1haWxcIixcclxuICAgICAgICBlcnJvck1lc3NhZ2U6IFwiRW1haWwgaXMgaW52YWxpZFwiLFxyXG4gICAgICB9LFxyXG4gICAgXSlcclxuICAgIC5vblN1Y2Nlc3MoKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAobW9kYWxXaW5kb3cpIHtcclxuICAgICAgICBtb2RhbFdpbmRvdy5jbGFzc0xpc3QuYWRkKFwianMtc3VibWl0XCIpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nID09PSBcImVuXCIpIHtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2VuLXRoYW5rcy5odG1sJztcclxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nID09PSBcImRlXCIpIHtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ3RoYW5rcy5odG1sJztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIFxyXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3VzZXJfY29tcGFueVwiKSkge1xyXG4gICAgdmFsaWRhdGlvbkZvcm1cclxuICAgICAgLmFkZEZpZWxkKFwiI3VzZXJfY29tcGFueVwiLCBbXHJcbiAgICAgIHtcclxuICAgICAgICBydWxlOiBcInJlcXVpcmVkXCIsIFxyXG4gICAgICAgIGVycm9yTWVzc2FnZTogXCJDb21wYW55IGlzIHJlcXVpcmVkXCIsXHJcbiAgICAgIH0sXHJcbiAgICBdKVxyXG4gIH07XHJcbn07XHJcblxyXG4vLyBEcm9wZG93blwic1xyXG5pZiAoIUVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QpIHtcclxuXHRpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcclxuXHRcdEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3I7XHJcblx0fTtcclxuXHRFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID0gZnVuY3Rpb24gKHMpIHtcclxuXHRcdHZhciBlbCA9IHRoaXM7XHJcblx0XHR2YXIgYW5jZXN0b3IgPSB0aGlzO1xyXG5cdFx0aWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMoZWwpKSByZXR1cm4gbnVsbDtcclxuXHRcdGRvIHtcclxuXHRcdFx0aWYgKGFuY2VzdG9yLm1hdGNoZXMocykpIHJldHVybiBhbmNlc3RvcjtcclxuXHRcdFx0YW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnRFbGVtZW50O1xyXG5cdFx0fSB3aGlsZSAoYW5jZXN0b3IgIT09IG51bGwpO1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNsb3NlT3Blbk5hdnMoKSB7XHJcbiAgdmFyIG9wZW5Ecm9wcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJvcGRvd25fX3RyaWdnZXJcIik7XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuRHJvcHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBvcGVuRHJvcGRvd24gPSBvcGVuRHJvcHNbaV07XHJcblx0XHRpZiAob3BlbkRyb3Bkb3duLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtb3BlblwiKSkge1xyXG5cdFx0ICBvcGVuRHJvcGRvd24ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwianMtb3BlblwiKTtcclxuXHRcdH07XHJcblx0fTtcclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmRyb3Bkb3duX190cmlnZ2VyXCIpKXtcclxuXHRcdGNsb3NlT3Blbk5hdnMoKTtcclxuXHR9IFxyXG5cdGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmRyb3Bkb3duX190cmlnZ2VyXCIpICYmIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmNsb3Nlc3QoXCIuanMtb3BlblwiKSl7XHJcblx0XHRldmVudC50YXJnZXQuY2xvc2VzdChcIi5kcm9wZG93bl9fdHJpZ2dlclwiKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJqcy1vcGVuXCIpO1xyXG5cdH1cclxuXHRlbHNlIGlmIChldmVudC50YXJnZXQuY2xvc2VzdChcIi5kcm9wZG93bl9fdHJpZ2dlclwiKSl7XHJcblx0XHRjbG9zZU9wZW5OYXZzKCk7XHJcblx0XHRldmVudC50YXJnZXQuY2xvc2VzdChcIi5kcm9wZG93bl9fdHJpZ2dlclwiKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJqcy1vcGVuXCIpO1xyXG5cdH1cclxuXHRcclxufSwgZmFsc2UpO1xyXG5cclxuLy8gUGxhbiBzbGlkZXJcclxuY29uc3QgcGxhblNsaWRlciA9IG5ldyBTd2lwZXIoXCIucGxhbl9fc2xpZGVyXCIsIHtcclxuICBsb29wOiBmYWxzZSxcclxuICBzbGlkZXNQZXJWaWV3OiAxLFxyXG4gIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgc3BlZWQ6IDMwMCxcclxuICBicmVha3BvaW50czoge1xyXG4gICAgNzY4OiB7XHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICB9LFxyXG4gICAgMTIwMDoge1xyXG4gICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgfSxcclxuICB9LFxyXG5cclxuICBwYWdpbmF0aW9uOiB7XHJcbiAgICBlbDogXCIucGxhbl9fcGFnaW5hdGlvblwiLFxyXG4gIH0sXHJcbiAgbmF2aWdhdGlvbjoge1xyXG4gICAgbmV4dEVsOiBcIi5wbGFuX19idXR0b24tbmV4dFwiLFxyXG4gICAgcHJldkVsOiBcIi5wbGFuX19idXR0b24tcHJldlwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1pbi13aWR0aDogOTkycHgpXCIpLm1hdGNoZXMpIHtcclxuICAvLyBDdXN0b20gc2Nyb2xsYmFyXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICBPdmVybGF5U2Nyb2xsYmFycyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keVwiKSwgeyB9KTtcclxuICB9KTtcclxufSBlbHNlIHtcclxuICAvLyBCZW5lZml0cyBzbGlkZXJcclxuICBjb25zdCBiZW5lZml0c1NsaWRlciA9IG5ldyBTd2lwZXIoXCIuYmVuZWZpdHNfX3NsaWRlclwiLCB7XHJcbiAgICBsb29wOiBmYWxzZSxcclxuICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICBzcGFjZUJldHdlZW46IDMwLFxyXG4gICAgc3BlZWQ6IDMwMCxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDc2ODoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDIsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgZWw6IFwiLmJlbmVmaXRzX19wYWdpbmF0aW9uXCIsXHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICBuZXh0RWw6IFwiLmJlbmVmaXRzX19idXR0b24tbmV4dFwiLFxyXG4gICAgICBwcmV2RWw6IFwiLmJlbmVmaXRzX19idXR0b24tcHJldlwiLFxyXG4gICAgfSxcclxuICB9KTtcclxufTsiXX0=